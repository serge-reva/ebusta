{
  "script": {
    "lang": "mustache",
    "source": {
      "query": {
        "multi_match": {
          "query": "{{query}}",
          "fields": ["title^3", "authors", "annotation"],
          "type": "best_fields",
          "fuzziness": "AUTO"
        }
      },
      "collapse": {
        "field": "title.kw",
        "inner_hits": { "name": "best", "size": 1, "sort": [{"fileInfo.size": "desc"}] }
      },
      "from": "{{from}}{{^from}}0{{/from}}",
      "size": "{{size}}{{^size}}10{{/size}}"
    }
  }
}
